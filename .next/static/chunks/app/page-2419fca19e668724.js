(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[974],{17884:(e,t,r)=>{Promise.resolve().then(r.bind(r,37322))},25016:(e,t,r)=>{"use strict";r.d(t,{cn:()=>n});var a=r(2821),s=r(75889);function n(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return(0,s.QP)((0,a.$)(t))}},28976:(e,t,r)=>{"use strict";r.d(t,{K:()=>s});var a=r(12115);function s(){let[e,t]=(0,a.useState)([]),[r,s]=(0,a.useState)(!0),n=async()=>{try{let e=await fetch("/mysystem/api/adapters/list.php",{credentials:"include"});if(e.ok){let r=await e.json();t(r)}}catch(e){console.error("Failed to fetch adapters:",e)}finally{s(!1)}};return(0,a.useEffect)(()=>{n()},[]),{adapters:e,isLoading:r,addAdapter:async e=>{let t={id:e,name:"Adapter ".concat(e)};try{let e=await fetch("/mysystem/api/adapters/add.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify(t)}),r=await e.json();if(!e.ok)return{success:!1,error:r.error||"Failed to add adapter"};return await n(),{success:!0,adapter:t}}catch(e){return console.error("Failed to add adapter:",e),{success:!1,error:e.message||"Network error occurred"}}},removeAdapter:async e=>{try{await fetch("/mysystem/api/adapters/delete.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:e})}),t(t=>t.filter(t=>t.id!==e))}catch(e){console.error("Failed to remove adapter:",e)}},updateLabel:async(e,t,r)=>{try{if((await fetch("/mysystem/api/adapters/update-label.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({id:e,label:t,location:r})})).ok)return await n(),{success:!0};return{success:!1}}catch(e){return console.error("Failed to update label:",e),{success:!1}}}}}},32559:(e,t,r)=>{"use strict";r.d(t,{Fc:()=>o,TN:()=>d,XL:()=>l});var a=r(95155);r(12115);var s=r(83101),n=r(25016);let i=(0,s.F)("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function o(e){let{className:t,variant:r,...s}=e;return(0,a.jsx)("div",{"data-slot":"alert",role:"alert",className:(0,n.cn)(i({variant:r}),t),...s})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-title",className:(0,n.cn)("col-start-2 line-clamp-1 min-h-4 font-medium tracking-tight",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"alert-description",className:(0,n.cn)("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}},33789:(e,t,r)=>{"use strict";r.d(t,{p:()=>n});var a=r(95155);r(12115);var s=r(25016);function n(e){let{className:t,type:r,...n}=e;return(0,a.jsx)("input",{type:r,"data-slot":"input",className:(0,s.cn)("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}},37322:(e,t,r)=>{"use strict";r.r(t),r.d(t,{default:()=>R});var a=r(95155),s=r(12115),n=r(42986),i=r(59880),o=r(26265),l=r(2903),d=r(68425),c=r(47734),u=r(73697),m=r(10232),g=r(11603),x=r(42529),p=r(56154),h=r(52056),v=r(21190),f=r(71360),b=r(52952),y=r(83209),j=r(97003),N=r(32559),w=r(28976),k=r(52619),S=r.n(k),A=r(46826),C=r(79400),T=r(87995),z=r(33789),L=r(90235);function O(){return(0,a.jsxs)("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-8 mb-8 items-center",children:[(0,a.jsxs)("div",{className:"space-y-6",children:[(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h2",{className:"text-3xl font-bold tracking-tight text-primary",children:"Next-Gen Smart Power Adapter"}),(0,a.jsx)("p",{className:"text-muted-foreground text-lg leading-relaxed",children:"Protect your valuable electronics with our AI-driven Smart Adapter. Featuring real-time voltage monitoring, automatic surge protection, and instant cutoff technology to prevent fire hazards before they happen."})]}),(0,a.jsxs)("div",{className:"flex items-center gap-4 text-sm text-muted-foreground",children:[(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Fire Prevention"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"Surge Protection"})]}),(0,a.jsxs)("div",{className:"flex items-center gap-1",children:[(0,a.jsx)(x.A,{className:"w-4 h-4 text-green-500"}),(0,a.jsx)("span",{children:"IoT Enabled"})]})]})]}),(0,a.jsxs)("div",{className:"relative group",children:[(0,a.jsx)("div",{className:"absolute -inset-1 bg-gradient-to-r from-primary to-blue-600 rounded-lg blur opacity-25 group-hover:opacity-50 transition duration-1000 group-hover:duration-200"}),(0,a.jsx)("div",{className:"relative bg-card border rounded-lg p-6 flex items-center justify-center min-h-[300px]",children:(0,a.jsxs)("div",{className:"text-center space-y-4",children:[(0,a.jsx)(p.A,{className:"w-24 h-24 mx-auto text-primary animate-pulse"}),(0,a.jsx)("p",{className:"font-mono text-sm text-muted-foreground",children:"Model: SA-2025-X"})]})})]})]})}function E(e){let{isOpen:t,onClose:r,onConfirm:s,adapterId:n}=e;return t?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,a.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg max-w-md w-full p-6 m-4 animate-in zoom-in-95 duration-200",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("div",{className:"p-3 rounded-full bg-red-500/10 text-red-500",children:(0,a.jsx)(h.A,{className:"w-6 h-6"})}),(0,a.jsxs)("div",{children:[(0,a.jsx)("h3",{className:"text-lg font-semibold",children:"Remove Adapter?"}),(0,a.jsxs)("p",{className:"text-sm text-muted-foreground",children:["Are you sure you want to remove adapter ",(0,a.jsx)("span",{className:"font-mono text-foreground",children:n}),"?"]})]})]}),(0,a.jsx)("p",{className:"text-sm text-muted-foreground mb-6",children:"This action will disconnect the adapter from your dashboard and stop all monitoring. The adapter will be switched to inactive mode."}),(0,a.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,a.jsx)(j.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(j.$,{variant:"destructive",onClick:()=>{s(),r()},children:"Remove Adapter"})]})]})}):null}function _(e){let{isOpen:t,onClose:r,onSave:n,adapterId:i,currentLabel:o,currentLocation:l}=e,[d,c]=(0,s.useState)(o||""),[u,m]=(0,s.useState)(l||"");return((0,s.useEffect)(()=>{c(o||""),m(l||"")},[o,l,t]),t)?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm animate-in fade-in duration-200",children:(0,a.jsxs)("div",{className:"bg-card border border-border rounded-lg shadow-lg max-w-md w-full p-6 m-4 animate-in zoom-in-95 duration-200",children:[(0,a.jsx)("h3",{className:"text-lg font-semibold mb-4",children:"Edit Adapter Label"}),(0,a.jsxs)("div",{className:"space-y-4",children:[(0,a.jsxs)("div",{children:[(0,a.jsx)(L.J,{htmlFor:"label",children:"Custom Label"}),(0,a.jsx)(z.p,{id:"label",value:d,onChange:e=>c(e.target.value),placeholder:"e.g., Living Room TV",maxLength:100})]}),(0,a.jsxs)("div",{children:[(0,a.jsx)(L.J,{htmlFor:"location",children:"Location (Optional)"}),(0,a.jsx)(z.p,{id:"location",value:u,onChange:e=>m(e.target.value),placeholder:"e.g., 2nd Floor, North Wall",maxLength:100})]})]}),(0,a.jsxs)("div",{className:"flex justify-end gap-3 mt-6",children:[(0,a.jsx)(j.$,{variant:"outline",onClick:r,children:"Cancel"}),(0,a.jsx)(j.$,{onClick:()=>{n(d,u),r()},children:"Save Changes"})]})]})}):null}function P(e){let{adapterId:t,label:r,location:n,onUpdateLabel:i,onRemove:x}=e,[w,k]=(0,s.useState)(!0),[S,A]=(0,s.useState)("active"),[z,L]=(0,s.useState)([]),[O,P]=(0,s.useState)(null),[R,F]=(0,s.useState)(!1),[I,M]=(0,s.useState)(!1),[W,$]=(0,s.useState)(!1),[D,J]=(0,s.useState)(!1),{addNotification:V}=(0,C.E)(),{updateStatus:K,incrementSafetyTrigger:B,unregisterAdapter:G}=(0,T.H)(),U=(0,s.useRef)(null),Z=(0,s.useRef)(0),X=(0,s.useRef)(!1),Y=(0,s.useRef)(0),H=(0,s.useRef)(0),q=(0,s.useRef)(null),Q=(0,s.useRef)(0);(0,s.useEffect)(()=>{(async()=>{try{let e=await fetch("/mysystem/api/adapters/get-voltage-history.php?adapter_id=".concat(t),{credentials:"include"});if(e.ok){let t=await e.json();if(t.length>0){let e=t.map(e=>({...e,voltage:Number(e.voltage)}));L(e)}}}catch(e){console.error("Failed to load voltage history:",e)}})()},[t]),(0,s.useEffect)(()=>(K(t,S),()=>G(t)),[S,t,K,G]),(0,s.useEffect)(()=>(U.current=setInterval(()=>{Z.current+=1;let e=new Date().toLocaleTimeString([],{hour12:!1,hour:"2-digit",minute:"2-digit",second:"2-digit"}),a=0;if(w){!q.current&&!W&&!D&&.05>Math.random()&&(q.current=Math.random()>.5?"surge":"undervoltage",Q.current=0);let e=220,s=10*Math.random()-5;W?(e=270,s=40*Math.random()-20):D?(e=155,s=30*Math.random()-15):"surge"===q.current?(e=270,s=40*Math.random()-20,Q.current+=1):"undervoltage"===q.current&&(e=155,s=30*Math.random()-15,Q.current+=1),q.current&&Q.current>8&&(q.current=null,Q.current=0),(a=e+s)>240?(Y.current+=1,H.current=0,Y.current>=5&&(k(!1),A("overload"),P("CRITICAL WARNING: Prolonged voltage surge detected! Adapter automatically shut down to prevent fire hazard."),B(),$(!1),q.current=null,X.current||(V({title:"Safety Cutoff Triggered",message:"Adapter ".concat(r||t," detected a prolonged surge (>5s) and shut down to prevent fire hazard. Click to view."),type:"error",priority:"high",read:!1,adapterId:t}),X.current=!0),a=0,Y.current=0)):a<180?(H.current+=1,Y.current=0,H.current>=5&&(A("undervoltage"),P("WARNING: Prolonged undervoltage detected! Monitoring system active."),X.current||(V({title:"Undervoltage Detection",message:"Adapter ".concat(r||t," detected prolonged undervoltage (<180V). System is monitoring the instability. Click to view."),type:"warning",priority:"medium",read:!1,adapterId:t}),X.current=!0))):(Y.current=0,"undervoltage"===S&&a>=180&&(A("active"),P(null)),H.current=0,"overload"!==S&&"undervoltage"!==S&&A("active"))}else a=0,Y.current=0,H.current=0,$(!1),J(!1),q.current=null,"overload"!==S&&"undervoltage"!==S&&A("inactive");let s={time:e,voltage:Math.round(a)};L(e=>{let t=[...e,s];return t.length>20?t.slice(t.length-20):t}),Z.current%5==0&&fetch("/mysystem/api/adapters/save-voltage.php",{method:"POST",headers:{"Content-Type":"application/json"},credentials:"include",body:JSON.stringify({adapter_id:t,voltage:Math.round(a),status:S})}).catch(e=>console.error("Failed to save voltage:",e))},1e3),()=>{U.current&&clearInterval(U.current)}),[w,S,t,V,B,W,D,r]);let ee=async()=>{K(t,"inactive"),await x(t),G(t)},et=async(e,r)=>{await i(t,e,r)};return(0,a.jsxs)("div",{className:"space-y-6",id:"adapter-".concat(t),children:[(0,a.jsx)(E,{isOpen:R,onClose:()=>F(!1),onConfirm:ee,adapterId:t}),(0,a.jsx)(_,{isOpen:I,onClose:()=>M(!1),onSave:et,adapterId:t,currentLabel:r,currentLocation:n}),O&&(0,a.jsxs)(N.Fc,{variant:"undervoltage"===S?"default":"destructive",className:"animate-in fade-in slide-in-from-top-2 ".concat("undervoltage"===S?"border-yellow-500 bg-yellow-500/10 text-yellow-500":"border-red-500 bg-red-500/10 text-red-500"),children:[(0,a.jsx)(h.A,{className:"h-4 w-4"}),(0,a.jsx)(N.XL,{children:"undervoltage"===S?"Undervoltage Detection":"Safety Cutoff Triggered"}),(0,a.jsx)(N.TN,{children:O})]}),(0,a.jsxs)(y.Zp,{className:"border-2 border-primary/20",children:[(0,a.jsx)(y.aR,{children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsxs)("div",{className:"flex-1",children:[(0,a.jsx)(y.ZB,{className:"flex items-center gap-2",children:r?(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{children:r}),(0,a.jsxs)("span",{className:"text-sm font-mono text-muted-foreground",children:["(",t,")"]})]}):"Live Voltage Monitor (".concat(t,")")}),(0,a.jsxs)(y.BT,{children:[n?"".concat(n," â€¢ "):"","Real-time input voltage tracking"]})]}),(0,a.jsxs)("div",{className:"flex items-center gap-3",children:[(0,a.jsx)("div",{className:"px-3 py-1 rounded-full text-xs font-bold uppercase tracking-wider border ".concat("active"===S?"bg-green-500/10 text-green-500 border-green-500/20":"overload"===S?"bg-red-500/10 text-red-500 border-red-500/20":"undervoltage"===S?"bg-yellow-500/10 text-yellow-500 border-yellow-500/20":"bg-gray-500/10 text-gray-500 border-gray-500/20"),children:S}),(0,a.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>M(!0),className:"text-muted-foreground hover:text-primary",children:(0,a.jsx)(v.A,{className:"h-4 w-4"})}),(0,a.jsx)(j.$,{variant:"ghost",size:"icon",onClick:()=>{F(!0)},className:"text-muted-foreground hover:text-destructive",children:(0,a.jsx)(f.A,{className:"h-4 w-4"})})]})]})}),(0,a.jsxs)(y.Wu,{children:[(0,a.jsx)("div",{className:"h-[300px] w-full mb-6",children:(0,a.jsx)(o.u,{width:"100%",height:"100%",children:(0,a.jsxs)(l.b,{data:z,children:[(0,a.jsx)(d.d,{strokeDasharray:"3 3",stroke:"var(--muted-foreground)",opacity:.1}),(0,a.jsx)(c.W,{dataKey:"time",stroke:"var(--muted-foreground)",fontSize:12,tickLine:!1,axisLine:!1}),(0,a.jsx)(u.h,{domain:[0,300],stroke:"var(--muted-foreground)",fontSize:12,tickLine:!1,axisLine:!1,label:{value:"Voltage (V)",angle:-90,position:"insideLeft",fill:"var(--muted-foreground)"}}),(0,a.jsx)(m.m,{contentStyle:{backgroundColor:"var(--background)",borderColor:"var(--border)"},itemStyle:{color:"var(--foreground)"}}),(0,a.jsx)(g.N1,{type:"monotone",dataKey:"voltage",stroke:"overload"===S?"#ef4444":"undervoltage"===S?"#eab308":"#22c55e",strokeWidth:2,dot:!1,isAnimationActive:!1}),(0,a.jsx)(g.N1,{type:"monotone",dataKey:()=>240,stroke:"#ef4444",strokeDasharray:"5 5",strokeWidth:1,dot:!1,name:"Max Limit"}),(0,a.jsx)(g.N1,{type:"monotone",dataKey:()=>180,stroke:"#eab308",strokeDasharray:"5 5",strokeWidth:1,dot:!1,name:"Min Limit"})]})})}),(0,a.jsxs)("div",{className:"flex flex-col items-center justify-center p-6 bg-accent/50 rounded-lg border border-border",children:[(0,a.jsxs)("div",{className:"flex items-center gap-4 mb-4",children:[(0,a.jsx)("span",{className:"text-sm font-medium text-muted-foreground",children:"Adapter Power"}),(0,a.jsxs)(j.$,{onClick:()=>{"overload"===S?(A("inactive"),P(null),k(!1),X.current=!1,Y.current=0,H.current=0):(k(!w),w?A("inactive"):(A("active"),P(null)))},variant:w?"default":"outline",size:"lg",className:"w-32 transition-all duration-300 ".concat(w?"bg-green-600 hover:bg-green-700":"overload"===S?"bg-red-600 hover:bg-red-700 text-white":"undervoltage"===S?"bg-yellow-600 hover:bg-yellow-700 text-white":""),children:[(0,a.jsx)(b.A,{className:"mr-2 h-4 w-4"}),"overload"===S?"RESET":w?"OFF":"ON"]}),(0,a.jsxs)("div",{className:"flex flex-col items-center ml-4 border-l pl-4 border-border/50 gap-2",children:[(0,a.jsxs)(j.$,{onClick:()=>{W?$(!1):($(!0),J(!1))},variant:W?"destructive":"secondary",size:"sm",disabled:!w||"overload"===S||"undervoltage"===S,className:"w-32",children:[(0,a.jsx)(p.A,{className:"mr-2 h-3 w-3 ".concat(W?"fill-current":"")}),W?"STOP SURGE":"TEST SURGE"]}),(0,a.jsxs)(j.$,{onClick:()=>{D?J(!1):(J(!0),$(!1))},variant:D?"default":"secondary",size:"sm",disabled:!w||"overload"===S,className:"w-32 ".concat(D?"bg-yellow-600 hover:bg-yellow-700":""),children:[(0,a.jsx)(p.A,{className:"mr-2 h-3 w-3 ".concat(D?"fill-current":"")}),D?"STOP LOW V":"TEST LOW V"]})]})]}),(0,a.jsxs)("div",{className:"flex justify-between w-full max-w-md px-4",children:[(0,a.jsx)("p",{className:"text-xs text-muted-foreground text-center flex-1",children:"overload"===S?"System locked due to voltage surge. Press RESET to acknowledge.":"undervoltage"===S?"System detected undervoltage instability. Monitoring active.":"Toggle to manually control power flow. System protects against surge and undervoltage."}),(0,a.jsx)("p",{className:"text-[10px] text-muted-foreground/70 text-right w-32 ml-4",children:"Simulate faults to test safety cutoff (hold 5s)."})]})]})]})]})]})}function R(){let{adapters:e,isLoading:t,updateLabel:r,removeAdapter:s}=(0,w.K)();return t?(0,a.jsx)(n.A,{header:{title:"Smart Adapter",description:"Loading...",icon:i.A},children:(0,a.jsx)("div",{className:"flex items-center justify-center h-[50vh]",children:(0,a.jsx)("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary"})})}):(0,a.jsxs)(n.A,{header:{title:"Smart Adapter",description:"Device Status & Control",icon:i.A},children:[(0,a.jsx)(O,{}),0===e.length?(0,a.jsx)(y.Zp,{className:"border-dashed border-2 p-8 text-center",children:(0,a.jsxs)(y.Wu,{className:"pt-6 flex flex-col items-center gap-4",children:[(0,a.jsx)("div",{className:"p-4 rounded-full bg-muted",children:(0,a.jsx)(A.A,{className:"w-8 h-8 text-muted-foreground"})}),(0,a.jsxs)("div",{className:"space-y-2",children:[(0,a.jsx)("h3",{className:"text-xl font-semibold",children:"No Adapters Connected"}),(0,a.jsx)("p",{className:"text-muted-foreground max-w-sm mx-auto",children:"You haven't added any smart adapters yet. Connect your first device to start monitoring."})]}),(0,a.jsx)(S(),{href:"/add-adapter",children:(0,a.jsxs)(j.$,{size:"lg",className:"mt-4",children:[(0,a.jsx)(A.A,{className:"mr-2 h-4 w-4"}),"Add Your First Adapter"]})})]})}):(0,a.jsx)("div",{className:"space-y-8",children:e.map(e=>(0,a.jsx)(P,{adapterId:e.id,label:e.label,location:e.location,onUpdateLabel:r,onRemove:s},e.id))})]})}},42986:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(95155);function s(e){let{children:t,header:r}=e;return(0,a.jsxs)("div",{className:"flex flex-col relative w-full gap-1 min-h-full",children:[(0,a.jsxs)("div",{className:"flex items-center lg:items-baseline gap-2.5 md:gap-4 px-4 md:px-6 py-3 md:pb-4 lg:pt-7 ring-2 ring-pop sticky top-header-mobile lg:top-0 bg-background z-10",children:[(0,a.jsx)("div",{className:"max-lg:contents rounded bg-primary size-7 md:size-9 flex items-center justify-center my-auto",children:(0,a.jsx)(r.icon,{className:"ml-1 lg:ml-0 opacity-50 md:opacity-100 size-5"})}),(0,a.jsx)("h1",{className:"text-xl lg:text-4xl font-display leading-[1] mb-1",children:r.title}),r.description&&(0,a.jsx)("span",{className:"ml-auto text-xs md:text-sm text-muted-foreground block",children:r.description})]}),(0,a.jsx)("div",{className:"min-h-full flex-1 flex flex-col gap-8 md:gap-14 px-3 lg:px-6 py-6 md:py-10 ring-2 ring-pop bg-background",children:t})]})}r(12115)},59880:(e,t,r)=>{"use strict";r.d(t,{A:()=>s});var a=r(95155);r(12115);let s=e=>(0,a.jsx)("svg",{xmlns:"http://www.w3.org/2000/svg",width:20,height:20,viewBox:"0 0 20 20",fill:"none",...e,children:(0,a.jsx)("path",{stroke:"currentColor",strokeLinecap:"square",strokeWidth:1.667,d:"M5.833 3.333h-2.5v13.334h2.5m8.333-13.334h2.5v13.334h-2.5"})})},79400:(e,t,r)=>{"use strict";r.d(t,{E:()=>s});var a=r(89164);function s(){let{notifications:e,addNotification:t,markAsRead:r,deleteNotification:s,clearAll:n,isLoading:i}=(0,a.E)();return{notifications:e,isLoading:i,addNotification:t,markAsRead:r,deleteNotification:s,clearAll:n}}},83209:(e,t,r)=>{"use strict";r.d(t,{BT:()=>l,Wu:()=>d,ZB:()=>o,Zp:()=>n,aR:()=>i});var a=r(95155);r(12115);var s=r(25016);function n(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card",className:(0,s.cn)("text-card-foreground flex flex-col gap-2 rounded-lg p-1.5 bg-pop",t),...r})}function i(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-header",className:(0,s.cn)("@container/card-header h-9 grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 pl-1 pr-1.5 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function o(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-title",className:(0,s.cn)("leading-none font-medium text-sm",t),...r})}function l(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-description",className:(0,s.cn)("text-muted-foreground text-sm",t),...r})}function d(e){let{className:t,...r}=e;return(0,a.jsx)("div",{"data-slot":"card-content",className:(0,s.cn)("p-3 py-2 rounded bg-card",t),...r})}},87995:(e,t,r)=>{"use strict";r.d(t,{AdapterStatusProvider:()=>i,H:()=>o});var a=r(95155),s=r(12115);let n=(0,s.createContext)(void 0);function i(e){let{children:t}=e,[r,i]=(0,s.useState)({}),[o,l]=(0,s.useState)(0),d=(0,s.useCallback)((e,t)=>{i(r=>r[e]===t?r:{...r,[e]:t})},[]),c=(0,s.useCallback)(e=>{i(t=>{let r={...t};return delete r[e],r})},[]),u=(0,s.useCallback)(()=>{l(e=>e+1)},[]),m=Object.values(r).filter(e=>"active"===e||"undervoltage"===e).length,g=Object.values(r).filter(e=>"inactive"===e||"overload"===e).length,x=Object.keys(r).length,p=Object.values(r).filter(e=>"undervoltage"===e).length;return(0,a.jsx)(n.Provider,{value:{statuses:r,safetyTriggerCount:o,updateStatus:d,incrementSafetyTrigger:u,unregisterAdapter:c,activeCount:m,inactiveCount:g,totalCount:x,undervoltageCount:p},children:t})}function o(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useAdapterStatus must be used within a AdapterStatusProvider");return e}},89164:(e,t,r)=>{"use strict";r.d(t,{E:()=>l,NotificationProvider:()=>o});var a=r(95155),s=r(12115);let n=(0,s.createContext)(void 0),i={id:"welcome-1",title:"Welcome to Smart Adapter",message:"Your account has been successfully created. Start by adding your first adapter to monitor and control your devices safely.",timestamp:new Date().toISOString(),type:"success",read:!1,priority:"high"};function o(e){let{children:t}=e,[r,o]=(0,s.useState)([]),[l,d]=(0,s.useState)(!1);return(0,s.useEffect)(()=>{try{let e=localStorage.getItem("smart_adapter_welcome_shown"),t=localStorage.getItem("smart_adapter_notifications"),r=[];t&&(r=JSON.parse(t)),e||(r=[i,...r],localStorage.setItem("smart_adapter_welcome_shown","true")),o(r)}catch(e){console.error("Failed to load notifications",e)}finally{d(!0)}},[]),(0,s.useEffect)(()=>{l&&localStorage.setItem("smart_adapter_notifications",JSON.stringify(r))},[r,l]),(0,a.jsx)(n.Provider,{value:{notifications:r,addNotification:e=>{let t={...e,id:"notif-".concat(Date.now(),"-").concat(Math.random().toString(36).substr(2,9)),timestamp:new Date().toISOString()};o(e=>[t,...e])},markAsRead:e=>{o(t=>t.map(t=>t.id===e?{...t,read:!0}:t))},deleteNotification:e=>{o(t=>t.filter(t=>t.id!==e))},clearAll:()=>{o([])},isLoading:!l},children:t})}function l(){let e=(0,s.useContext)(n);if(void 0===e)throw Error("useNotifications must be used within a NotificationProvider");return e}},90235:(e,t,r)=>{"use strict";r.d(t,{J:()=>i});var a=r(95155);r(12115);var s=r(10489),n=r(25016);function i(e){let{className:t,...r}=e;return(0,a.jsx)(s.b,{"data-slot":"label",className:(0,n.cn)("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}},97003:(e,t,r)=>{"use strict";r.d(t,{$:()=>l});var a=r(95155);r(12115);var s=r(17129),n=r(83101),i=r(25016);let o=(0,n.F)("inline-flex items-center justify-center uppercase gap-2 whitespace-nowrap rounded-md text-sm font-bold transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white shadow-xs hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background shadow-xs hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground shadow-xs hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",xl:"h-12 rounded-md px-6 has-[>svg]:px-6 font-bold",icon:"size-9","icon-sm":"size-8","icon-lg":"size-10"}},defaultVariants:{variant:"default",size:"default"}});function l(e){let{className:t,variant:r,size:n,asChild:l=!1,...d}=e,c=l?s.DX:"button";return(0,a.jsx)(c,{"data-slot":"button",className:(0,i.cn)(o({variant:r,size:n,className:t})),...d})}}},e=>{e.O(0,[907,371,21,441,255,358],()=>e(e.s=17884)),_N_E=e.O()}]);